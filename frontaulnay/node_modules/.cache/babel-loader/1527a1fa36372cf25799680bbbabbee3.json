{"ast":null,"code":"var _jsxFileName = \"/Users/adlane/Documents/Cours/Cours-JS/js-adlane/aulnay-solidarite/aulnay-solidarite/frontaulnay/src/components/ComponentsDashboard/ManageAnnounce.jsx\";\nimport React, { Component } from 'react';\nimport AuthContext from \"./../auth/AuthContext\";\nimport axios from \"axios\";\nexport default class ManageAnnounce extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categorie: [],\n      annonces: []\n    };\n\n    this.handleChange = evt => {\n      this.setState({\n        [evt.target.name]: evt.target.value\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const categories = await axios.get(\"http://localhost:5555/categories\");\n    this.setState({\n      categorie: categories.data\n    });\n    const allAnnonces = await axios.get(\"http://localhost:5555/annonce/\" + this.context.currentUser._id);\n    this.setState({\n      annonces: allAnnonces.data\n    });\n    console.log(this.context);\n  }\n\n  render() {\n    const categorie = this.state.categorie; // console.log(\"@@@@@@@\", categorie)\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"manage-announce\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }\n    }, \" Manage annonce \"));\n  }\n\n}\nManageAnnounce.contextType = AuthContext;","map":{"version":3,"sources":["/Users/adlane/Documents/Cours/Cours-JS/js-adlane/aulnay-solidarite/aulnay-solidarite/frontaulnay/src/components/ComponentsDashboard/ManageAnnounce.jsx"],"names":["React","Component","AuthContext","axios","ManageAnnounce","state","categorie","annonces","handleChange","evt","setState","target","name","value","componentDidMount","categories","get","data","allAnnonces","context","currentUser","_id","console","log","render","contextType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,MAAMC,cAAN,SAA6BH,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAElDI,KAFkD,GAE1C;AACJC,MAAAA,SAAS,EAAE,EADP;AAEJC,MAAAA,QAAQ,EAAE;AAFN,KAF0C;;AAAA,SAMlDC,YANkD,GAMlCC,GAAD,IAAS;AACpB,WAAKC,QAAL,CAAc;AAAE,SAACD,GAAG,CAACE,MAAJ,CAAWC,IAAZ,GAAmBH,GAAG,CAACE,MAAJ,CAAWE;AAAhC,OAAd;AACH,KARiD;AAAA;;AAWlD,QAAMC,iBAAN,GAA0B;AACtB,UAAMC,UAAU,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAU,kCAAV,CAAzB;AACA,SAAKN,QAAL,CAAc;AAAEJ,MAAAA,SAAS,EAAES,UAAU,CAACE;AAAxB,KAAd;AACA,UAAMC,WAAW,GAAG,MAAMf,KAAK,CAACa,GAAN,CAAU,mCAAkC,KAAKG,OAAL,CAAaC,WAAb,CAAyBC,GAArE,CAA1B;AACA,SAAKX,QAAL,CAAc;AAAEH,MAAAA,QAAQ,EAAEW,WAAW,CAACD;AAAxB,KAAd;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKJ,OAAjB;AACH;;AAGDK,EAAAA,MAAM,GAAG;AAGL,UAAMlB,SAAS,GAAG,KAAKD,KAAL,CAAWC,SAA7B,CAHK,CAIL;;AAEA,wBACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CADJ;AAoCH;;AA9DiD;AAAjCF,c,CASVqB,W,GAAcvB,W","sourcesContent":["import React, { Component } from 'react';\nimport AuthContext from \"./../auth/AuthContext\";\nimport axios from \"axios\";\n\n\nexport default class ManageAnnounce extends Component {\n\n    state = {\n        categorie: [],\n        annonces: []\n    }\n    handleChange = (evt) => {\n        this.setState({ [evt.target.name]: evt.target.value });\n    };\n    static contextType = AuthContext;\n\n    async componentDidMount() {\n        const categories = await axios.get(\"http://localhost:5555/categories\")\n        this.setState({ categorie: categories.data })\n        const allAnnonces = await axios.get(\"http://localhost:5555/annonce/\"+ this.context.currentUser._id)\n        this.setState({ annonces: allAnnonces.data })\n        console.log(this.context);\n    }\n\n\n    render() {\n\n\n        const categorie = this.state.categorie\n        // console.log(\"@@@@@@@\", categorie)\n\n        return (\n            <div className=\"manage-announce\">\n                <h1> Manage annonce </h1>\n\n\n                {/* <form className=\"form\"\n                    onChange={this.handleChange}\n                    onSubmit={this.handleSubmit}>\n                    <br />\n                    <label htmlFor=\"title\" className=\"label\"></label>\n                    <input type=\"text\" name=\"title\" className=\"input\" placeholder=\"titre de l'annonce\" />\n                    <br />\n                    <label htmlFor=\"description\" className=\"label\"></label>\n                    <input type=\"text\" name=\"description\" className=\"input\" placeholder=\"description de l'annonce\" />\n                    <br />\n\n\n                    <label htmlFor=\"category_name\" className=\"label\"> Cat√©gorie : </label>\n                    <select name=\"category_name\" id=\"category_name\">\n                        <option>choisir</option>\n                        {categorie.map((categ, i) => {\n                            return <option value={categ.category_name} key={i}> {categ.category_name} </option>\n                        })}\n                    </select>\n                    <br />\n                    <label htmlFor=\"active\" className=\"active\"> Annonce active </label>\n                    <select name=\"active\" id=\"active\">\n                        <option>Choisir</option>\n                        <option value=\"true\">active</option>\n                        <option value=\"false\">inactive</option>\n                    </select>\n                    <br />\n                    <button className=\"btn\">create !!!</button>\n                </form> */}\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}