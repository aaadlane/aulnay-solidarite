{"ast":null,"code":"var _jsxFileName = \"/Users/adlane/Documents/Cours/Cours-JS/js-adlane/aulnay-solidarite/aulnay-solidarite/frontaulnay/src/components/LoginPage/SignUp.jsx\";\nimport React, { Component } from 'react';\nimport { APIHandler } from './../../api/handler';\nimport AuthContext from \"./../components/auth/AuthContext\";\nconst apiHandler = new APIHandler(\"/user\");\nexport default class SignUp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      age: \"\",\n      avatar: \"\",\n      description: \"\",\n      adress_street: \"\",\n      adress_street_number: \"\",\n      adress_district: \"\",\n      Profile_type: \"\",\n      gender: \"\"\n    };\n    this.fileInput = React.createRef();\n\n    this.handleChange = evt => {\n      this.setState({\n        [evt.target.name]: evt.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault(); // classique : empêche l'event submit du formulaire de rafraîchir la page\n\n      const {\n        first_name,\n        last_name,\n        email,\n        password,\n        age,\n        description,\n        adress_street,\n        adress_street_number,\n        adress_district,\n        Profile_type,\n        gender\n      } = this.state; // destructuration de l'objet this.state\n\n      const avatar = this.fileInput.current.files[0]; // on récupère la valeur de l'input file référencé\n\n      const fd = new FormData(); // formData est obligatoire pour envoyer des files (ex: avatar) vers le backend\n      // check la doc : https://developer.mozilla.org/fr/docs/Web/API/FormData\n\n      fd.append(\"first_name\", first_name); // on ajoute des,\n\n      fd.append(\"last_name\", last_name); // clé / valeurs,\n\n      fd.append(\"email\", email); // dans l'objet ...\n\n      fd.append(\"password\", password); // fd :D\n\n      fd.append(\"age\", age); // fd :D\n\n      fd.append(\"description\", description); // fd :D\n\n      fd.append(\"adress_street\", adress_street); // fd :D\n\n      fd.append(\"adress_street_number\", adress_street_number); // fd :D\n\n      fd.append(\"adress_district\", adress_district); // fd :D\n\n      fd.append(\"Profile_type\", Profile_type); // fd :D\n\n      fd.append(\"gender\", gender); // fd :D\n\n      if (avatar) fd.append(\"avatar\", avatar); // avant de passer l'objet formData (fd) à components/auth/AuthProvider\n      // la ligne déclarée plus haut (static contextType) est accessible via this.context\n\n      this.context.signup(fd, () => {\n        this.props.history.push(\"/login\"); // redirection vers la page de signin\n      });\n    };\n  }\n\n  // ma version\n  // handleSubmit = async (evt) => {\n  //     evt.preventDefault();\n  //     const apiRes = await apiHandler.createOne(this.state);\n  //     console.log(apiRes);\n  // };\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form\",\n      onChange: this.handleChange,\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, \"Modifier mon compte\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, \"Adresse Mail : \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"email\",\n      name: \"email\",\n      type: \"email\",\n      className: \"input\",\n      placeholder: \"john@doe.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, \"Mot de passe : \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"password\",\n      name: \"password\",\n      type: \"password\",\n      className: \"input\",\n      minLength: \"6\",\n      placeholder: \"123456\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"first_name\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, \"Pr\\xE9nom : \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"first_name\",\n      name: \"first_name\",\n      type: \"text\",\n      className: \"input\",\n      placeholder: \"johnny\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"last_name\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, \"Nom de famille : \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"last_name\",\n      name: \"last_name\",\n      type: \"text\",\n      className: \"input\",\n      placeholder: \"fire\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"avatar\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, \"Avatar :\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"avatar\",\n      name: \"avatar\",\n      type: \"file\",\n      className: \"is-hidden\",\n      ref: this.fileInput // la référence créé dans la classe est associée à cet input file\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"age\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, \"Age : \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"age\",\n      name: \"age\",\n      type: \"number\",\n      className: \"input\",\n      placeholder: \"age\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, \"Votre Description : \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"description\",\n      name: \"description\",\n      type: \"text\",\n      className: \"input\",\n      placeholder: \"this is it\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, \"Adresse : \"), \" \", /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 41\n      }\n    }, \"(r\\xE9serv\\xE9 aux Aulnaysiens)\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"adress.street\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, \"Rue : \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"adress.street\",\n      name: \"adress.street\",\n      type: \"text\",\n      className: \"input\",\n      placeholder: \"delacroix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"adress.street_number\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, \"Num\\xE9ro : \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"adress.street_number\",\n      name: \"adress.street_number\",\n      type: \"number\",\n      className: \"input\",\n      placeholder: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"adress.district\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, \"Quartier :  \"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"adress.district\",\n      name: \"adress.district\",\n      type: \"text\",\n      className: \"input\",\n      placeholder: \"vieux pays\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Profile_type\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, \" Profil utilisateur  \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"Profile_type\",\n      id: \"Profile_type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, \"Choisissez votre type de profil:\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"association\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    }, \"Repr\\xE9sentant d'une association\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, \"Utilisateur r\\xE9gulier\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"gender\",\n      className: \"label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, \" Choix du sexe  \"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"gender\",\n      id: \"gender\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \"Choisissez votre sexe:\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Male\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, \"Homme\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Female\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, \"Femme\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, \"create !!!\")));\n  }\n\n}\nSignUp.contextType = AuthContext;","map":{"version":3,"sources":["/Users/adlane/Documents/Cours/Cours-JS/js-adlane/aulnay-solidarite/aulnay-solidarite/frontaulnay/src/components/LoginPage/SignUp.jsx"],"names":["React","Component","APIHandler","AuthContext","apiHandler","SignUp","state","email","password","first_name","last_name","age","avatar","description","adress_street","adress_street_number","adress_district","Profile_type","gender","fileInput","createRef","handleChange","evt","setState","target","name","value","handleSubmit","e","preventDefault","current","files","fd","FormData","append","context","signup","props","history","push","render","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { APIHandler } from './../../api/handler';\nimport AuthContext from \"./../components/auth/AuthContext\";\nconst apiHandler = new APIHandler(\"/user\");\n\n\nexport default class SignUp extends Component {\n    state = {\n        email: \"\",\n        password: \"\",\n        first_name: \"\",\n        last_name: \"\",\n        age: \"\",\n        avatar:\"\",\n        description: \"\",\n        adress_street: \"\",\n        adress_street_number: \"\",\n        adress_district: \"\",\n        Profile_type: \"\",\n        gender: \"\",\n    };\n\n    static contextType = AuthContext; // la classe Signup est désormais 'abonnée' au AuthProvider, il consome les infos du provider\n    fileInput = React.createRef(); // on créé une référence ici, utilisée sur le l'input file plus bas\n\n\n    handleChange = (evt) => {\n        this.setState({ [evt.target.name]: evt.target.value });\n\n    };\n\n    handleSubmit = async (e) => {\n        e.preventDefault(); // classique : empêche l'event submit du formulaire de rafraîchir la page\n    \n        const { first_name, last_name, email, password, age,  description, adress_street, adress_street_number, adress_district, Profile_type, gender } = this.state; // destructuration de l'objet this.state\n        const avatar = this.fileInput.current.files[0]; // on récupère la valeur de l'input file référencé\n        const fd = new FormData(); // formData est obligatoire pour envoyer des files (ex: avatar) vers le backend\n        // check la doc : https://developer.mozilla.org/fr/docs/Web/API/FormData\n    \n        fd.append(\"first_name\", first_name); // on ajoute des,\n        fd.append(\"last_name\", last_name); // clé / valeurs,\n        fd.append(\"email\", email); // dans l'objet ...\n        fd.append(\"password\", password); // fd :D\n        fd.append(\"age\", age); // fd :D\n        fd.append(\"description\", description); // fd :D\n        fd.append(\"adress_street\", adress_street); // fd :D\n        fd.append(\"adress_street_number\", adress_street_number); // fd :D\n        fd.append(\"adress_district\", adress_district); // fd :D\n        fd.append(\"Profile_type\", Profile_type); // fd :D\n        fd.append(\"gender\", gender); // fd :D\n\n        if (avatar) fd.append(\"avatar\", avatar);\n        // avant de passer l'objet formData (fd) à components/auth/AuthProvider\n        // la ligne déclarée plus haut (static contextType) est accessible via this.context\n        this.context.signup(fd, () => {\n          this.props.history.push(\"/login\"); // redirection vers la page de signin\n        });\n      };\n// ma version\n    // handleSubmit = async (evt) => {\n    //     evt.preventDefault();\n    //     const apiRes = await apiHandler.createOne(this.state);\n    //     console.log(apiRes);\n    // };\n\n\n    render() {\n        return (\n            <div className=\"signup\">\n\n                <form className=\"form\"\n                    onChange={this.handleChange}\n                    onSubmit={this.handleSubmit}>\n\n                    <h1 className=\"title\">Modifier mon compte</h1>\n\n                    <br />\n                    <label htmlFor=\"email\" className=\"label\">Adresse Mail : </label>\n                    <input id=\"email\" name=\"email\" type=\"email\" className=\"input\" placeholder=\"john@doe.com\" />\n\n                    <br />\n                    <label htmlFor=\"password\" className=\"label\">Mot de passe : </label>\n                    <input id=\"password\" name=\"password\" type=\"password\" className=\"input\" minLength=\"6\" placeholder=\"123456\" />\n\n                    <br />\n                    <label htmlFor=\"first_name\" className=\"label\">Prénom : </label>\n                    <input id=\"first_name\" name=\"first_name\" type=\"text\" className=\"input\" placeholder=\"johnny\" />\n\n                    <br />\n                    <label htmlFor=\"last_name\" className=\"label\">Nom de famille : </label>\n                    <input id=\"last_name\" name=\"last_name\" type=\"text\" className=\"input\" placeholder=\"fire\" />\n                    <br/>\n                    <label htmlFor=\"avatar\" className=\"label\">\n                        Avatar :\n                    </label>\n                    <input id=\"avatar\"\n                        name=\"avatar\"\n                        type=\"file\"\n                        className=\"is-hidden\"\n                        ref={this.fileInput} // la référence créé dans la classe est associée à cet input file\n                    />\n                    <br />\n                    <label htmlFor=\"age\" className=\"label\">Age : </label>\n                    <input id=\"age\" name=\"age\" type=\"number\" className=\"input\" placeholder=\"age\" />\n\n                    {/* <br />\n                    <label htmlFor=\"avatar\" className=\"label\">Photo de profil : </label>\n                    <input id=\"avatar\" name=\"avatar\" type=\"file\" className=\"input\" accept=\"image/png, image/jpeg\" /> */}\n\n                    <br />\n                    <label htmlFor=\"description\" className=\"label\">Votre Description : </label>\n                    <input id=\"description\" name=\"description\" type=\"text\" className=\"input\" placeholder=\"this is it\" />\n\n                    <br />\n                    <h3>Adresse : </h3> <h5>(réservé aux Aulnaysiens)</h5>\n                    <label htmlFor=\"adress.street\" className=\"label\">Rue : </label>\n                    <input id=\"adress.street\" name=\"adress.street\" type=\"text\" className=\"input\" placeholder=\"delacroix\" />\n\n                    <br />\n                    <label htmlFor=\"adress.street_number\" className=\"label\">Numéro : </label>\n                    <input id=\"adress.street_number\" name=\"adress.street_number\" type=\"number\" className=\"input\" placeholder=\"2\" />\n\n                    <br />\n                    <label htmlFor=\"adress.district\" className=\"label\">Quartier :  </label>\n                    <input id=\"adress.district\" name=\"adress.district\" type=\"text\" className=\"input\" placeholder=\"vieux pays\" />\n                    \n                    <br />\n\n\n\n                    <label htmlFor=\"Profile_type\" className=\"label\"> Profil utilisateur  </label>\n                    <select name=\"Profile_type\" id=\"Profile_type\">\n                        <option value=\"\">Choisissez votre type de profil:</option>\n                        <option value=\"association\">Représentant d'une association</option>\n                        <option value=\"user\">Utilisateur régulier</option>\n                    </select>\n\n\n\n                    <br />\n                    <label htmlFor=\"gender\" className=\"label\"> Choix du sexe  </label>\n                    <select name=\"gender\" id=\"gender\">\n                        <option value=\"\">Choisissez votre sexe:</option>\n                        <option value=\"Male\">Homme</option>\n                        <option value=\"Female\">Femme</option>\n                    </select>\n\n\n\n\n                    <br />\n                    <button className=\"btn\">create !!!</button>\n                </form>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}